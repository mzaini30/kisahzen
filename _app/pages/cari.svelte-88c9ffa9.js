import{S as H,i as L,s as I,e as j,k as b,t as E,c as k,a as M,m as S,h as C,d as p,P,b as h,g as w,H as v,j as y,w as N,O as U,x as z,y as B,q as G,o as O,B as R,M as D,U as F}from"../chunks/vendor-3263695e.js";import{p as J}from"../chunks/stores-c7647922.js";import{M as K}from"../chunks/meta-1386f2a2.js";import{p as Q}from"../chunks/post-3d348903.js";function $(i,l,t){const o=i.slice();return o[4]=l[t],o}function A(i){let l,t,o,c,m,f,u,s=i[4].judul+"",_,g,n;return{c(){l=j("a"),t=j("img"),m=b(),f=j("span"),u=j("p"),_=E(s),g=b(),this.h()},l(e){l=k(e,"A",{"sveltekit:prefetch":!0,href:!0,class:!0});var a=M(l);t=k(a,"IMG",{src:!0,alt:!0,class:!0}),m=S(a),f=k(a,"SPAN",{class:!0});var r=M(f);u=k(r,"P",{class:!0});var d=M(u);_=C(d,s),d.forEach(p),r.forEach(p),g=S(a),a.forEach(p),this.h()},h(){P(t.src,o=i[4].gambar)||h(t,"src",o),h(t,"alt",c=i[4].judul),h(t,"class","svelte-ag3ltj"),h(u,"class","svelte-ag3ltj"),h(f,"class","list-judul svelte-ag3ltj"),h(l,"sveltekit:prefetch",""),h(l,"href",n="/post/"+i[4].slug),h(l,"class","kotak svelte-ag3ltj")},m(e,a){w(e,l,a),v(l,t),v(l,m),v(l,f),v(f,u),v(u,_),v(l,g)},p(e,a){a&1&&!P(t.src,o=e[4].gambar)&&h(t,"src",o),a&1&&c!==(c=e[4].judul)&&h(t,"alt",c),a&1&&s!==(s=e[4].judul+"")&&y(_,s),a&1&&n!==(n="/post/"+e[4].slug)&&h(l,"href",n)},d(e){e&&p(l)}}}function T(i){let l,t,o,c,m,f,u,s,_;document.title=l="Mencari "+i[1],t=new K({props:{judul:"Cari",deskripsi:"Hasil pencarian"}});let g=i[0],n=[];for(let e=0;e<g.length;e+=1)n[e]=A($(i,g,e));return{c(){N(t.$$.fragment),o=b(),c=j("h1"),m=E("Mencari "),f=E(i[1]),u=b(),s=j("main");for(let e=0;e<n.length;e+=1)n[e].c();this.h()},l(e){const a=U('[data-svelte="svelte-1a4m73s"]',document.head);z(t.$$.fragment,a),a.forEach(p),o=S(e),c=k(e,"H1",{class:!0});var r=M(c);m=C(r,"Mencari "),f=C(r,i[1]),r.forEach(p),u=S(e),s=k(e,"MAIN",{class:!0});var d=M(s);for(let q=0;q<n.length;q+=1)n[q].l(d);d.forEach(p),this.h()},h(){h(c,"class","judul capitalize svelte-ag3ltj"),h(s,"class","hasil-pencarian svelte-ag3ltj")},m(e,a){B(t,document.head,null),w(e,o,a),w(e,c,a),v(c,m),v(c,f),w(e,u,a),w(e,s,a);for(let r=0;r<n.length;r+=1)n[r].m(s,null);_=!0},p(e,[a]){if((!_||a&2)&&l!==(l="Mencari "+e[1])&&(document.title=l),(!_||a&2)&&y(f,e[1]),a&1){g=e[0];let r;for(r=0;r<g.length;r+=1){const d=$(e,g,r);n[r]?n[r].p(d,a):(n[r]=A(d),n[r].c(),n[r].m(s,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=g.length}},i(e){_||(G(t.$$.fragment,e),_=!0)},o(e){O(t.$$.fragment,e),_=!1},d(e){R(t),e&&p(o),e&&p(c),e&&p(u),e&&p(s),D(n,e)}}}function V(i,l,t){let o;F(i,J,u=>t(2,o=u));let c=[],m="";async function f(){if(location.search){t(1,m=new URLSearchParams(location.search).get("q"));for(let u of Q){let s=await fetch(`/post/${u.slug}`);s=await s.text(),s=s.toLowerCase(),s=s.replace(/[\s\S]*<article/,""),s=s.replace(/<\/article[\s\S]*/,""),s.includes(m.toLowerCase())&&t(0,c=[...c,u])}t(0,c=[...new Set(c)])}}return f(),i.$$.update=()=>{i.$$.dirty&4&&o.url.searchParams.get("q")&&(t(0,c=""),f())},[c,m,o]}class x extends H{constructor(l){super();L(this,l,V,T,I,{})}}export{x as default};
